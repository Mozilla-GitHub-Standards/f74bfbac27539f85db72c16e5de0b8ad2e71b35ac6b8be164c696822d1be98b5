 <!-- ***** BEGIN LICENSE BLOCK *****
   - Version: MPL 1.1
   -
   - The contents of this file are subject to the Mozilla Public License Version
   - 1.1 (the "License"); you may not use this file except in compliance with
   - the License. You may obtain a copy of the License at
   - http://www.mozilla.org/MPL/
   -
   - Software distributed under the License is distributed on an "AS IS" basis,
   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
   - for the specific language governing rights and limitations under the
   - License.
   -
   - The Original Code is Raindrop.
   -
   - The Initial Developer of the Original Code is
   - Mozilla Messaging, Inc..
   - Portions created by the Initial Developer are Copyright (C) 2009
   - the Initial Developer. All Rights Reserved.
   -
   - Contributor(s):
   - -->
<!DOCTYPE html>
<html>
<head>
  <title>F1 Alpha</title>
  <link rel="stylesheet" type="text/css" href="share.css">
  <script data-main="index.js" src="../../scripts/requireplugins-jquery-1.4.2.js" charset="utf-8"></script>
  <!-- Uncomment if you want to use more jQuery UI besides tabs. -->
  <!-- script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script-->
</head>
<body class="loading">
<noscript>
    Please enable JavaScript to use F1. If you are using NoScript or another script
    blocking add-on, please allow "mozillamessaging.com" and try again.
</noscript>

<div id="tabs" class="invisible">

  <ul class="nav">
    <li class="twitterTab leftTab hidden"><a class="icon twitter" name="twitter" href="#twitter">Twitter</a></li>
    <li class="facebookTab leftTab hidden"><a class="icon facebook" name="facebook" href="#facebook">Facebook</a></li>
    <li class="gmailTab leftTab hidden"><a class="icon gmail" name="google mail" href="#gmail">Gmail</a></li>
    <li class="googleAppsTab leftTab hidden"><a class="icon googleApps" name="google apps" href="#googleApps">Google Apps</a></li>
    <li class="yahooTab leftTab hidden"><a class="icon yahoo" name="yahoo mail" href="#yahoo">Yahoo!</a></li>
    <li class="debugTab"><a class="icon debug" name="debug" href="#debug">debug</a></li>
    <div class="user-info">
      <span class="avatar"><img class="avatar" src=""></span>
      <span class="username"></span>
      <span class="status inactive"></span>
    </div>
    <div class="rightActions">
      <a id="newLink" href="../settings/#show=new" class="settingsLink new hidden" target="_blank">new stuff!</a>
      <a href="../settings/" class="settingsLink" target="_blank">settings</a>
      <a href="http://feedback.mozillalabs.com/forums/68185-messaging-add-ons" target="_blank">feedback</a>
      <span class="close"></span>
    </div>
  </ul>

  <div id="twitter" class="ui-tabs-hide">
    <form name="twitterSend" class="hbox messageForm" action="#">
      <div class="user inactive col" data-domain="twitter.com">
      <input type="hidden" name="domain" value="twitter.com" />
      <input type="hidden" name="userid" value="" />
      <input type="hidden" name="username" value="" />
      <input type="hidden" name="link" value="" />
        <span class="avatar"><img class="avatar" src="i/face2.png"></span>
        <span class="username">Twitter User</span>
      </div>
      <div class="thumb">
        <div class="image"><img class="thumb"/></div>
        <div class="meta">
          <div class="title"></div>
          <div class="description"></div>
          <a title="The link for this page" class="url"></a>
          <a title="A smaller, shorter link to use for Twitter" class="surl"></a>
        </div>
      </div>
      <div class="message twitterCounter boxFlex">
        <textarea class="message" placeholder="Type your message here, and we'll attach the link" name="message"></textarea>
        <div class="counter"></div>
      </div>
      <button class="share" type="submit">share</button>
    </form>
  </div>

  <div id="facebook" class="ui-tabs-hide">
    <form name="facebookSend" class="hbox messageForm" action="#">
      <div class="user inactive col">
        <input type="hidden" name="domain" value="facebook.com" />
        <input type="hidden" name="userid" value="" />
        <input type="hidden" name="username" value="" />
        <input type="hidden" name="picture" value="" />
        <input type="hidden" name="link" value="" />
        <input type="hidden" name="name" value="" />
        <input type="hidden" name="caption" value="" />
        <span class="avatar"><img class="avatar" src="i/face2.png"></span>
        <span class="username">Facebook User</span>
      </div>
      <div class="thumb">
        <div class="image"><img class="thumb"/></div>
        <div class="meta">
          <div class="title"></div>
          <div class="description"></div>
          <a title="The link for this page" class="url"></a>
        </div>
      </div>
      <div class="message boxFlex">
        <textarea class="message" placeholder="Type your message here" name="message"></textarea>
      </div>
      <button class="share" type="submit">share</button>
    </form>
  </div>

  <div id="gmail" class="ui-tabs-hide">
    <form name="googleSend" class="hbox messageForm" action="#">
    <div class="user inactive col">
      <input type="hidden" name="domain" value="google.com" />
      <input type="hidden" name="userid" value="" />
      <input type="hidden" name="username" value="" />
      <input type="hidden" name="link" value="" />
      <input type="hidden" name="title" value="" />
      <input type="hidden" name="description" value="" />
      <span class="avatar"><img class="avatar" src="i/face2.png"></span>
      <span class="username">Gmail User</span>
    </div>
    <div class="addressing">
      <input name="to" placeholder="to" type="text" value="" class="ffshareAutoComplete"/>
      <input name="subject" placeholder="subject" type="text" value=""/>
    </div>
    <div class="message boxFlex">
      <textarea class="message urlWithSpace" placeholder="Type your message here, and we'll attach the link" name="message"></textarea>
    </div>
    <button class="share" type="submit">share</button>
    </form>
  </div>

  <div id="googleApps" class="ui-tabs-hide">
    <form name="googleAppsSend" class="hbox messageForm" action="#">
    <div class="user inactive col">
      <input type="hidden" name="domain" value="googleapps.com" />
      <input type="hidden" name="userid" value="" />
      <input type="hidden" name="username" value="" />
      <input type="hidden" name="link" value="" />
      <input type="hidden" name="title" value="" />
      <input type="hidden" name="description" value="" />
      <span class="avatar"><img class="avatar" src="i/face2.png"></span>
      <span class="username">Domain User</span>
    </div>
    <div class="addressing">
      <input name="to" placeholder="to" type="text" value="" class="ffshareAutoComplete"/>
      <input name="subject" placeholder="subject" type="text" value=""/>
    </div>
    <div class="message boxFlex">
      <textarea class="message urlWithSpace" placeholder="Type your message here, and we'll attach the link" name="message"></textarea>
    </div>
    <button class="share" type="submit">share</button>
    </form>
  </div>

  <div id="yahoo" class="ui-tabs-hide">
    <form name="yahooSend" class="hbox messageForm" action="#">
    <div class="user inactive col">
      <input type="hidden" name="domain" value="yahoo.com" />
      <input type="hidden" name="userid" value="" />
      <input type="hidden" name="username" value="" />
      <input type="hidden" name="link" value="" />
      <input type="hidden" name="title" value="" />
      <input type="hidden" name="description" value="" />
      <span class="avatar"><img class="avatar" src="i/face2.png"></span>
      <span class="username">Yahoo! User</span>
    </div>
    <div class="addressing">
      <input name="to" placeholder="to" type="text" value="" class="ffshareAutoComplete"/>
      <input name="subject" placeholder="subject" type="text" value=""/>
    </div>
    <div class="message boxFlex">
      <textarea class="message urlWithSpace" placeholder="Type your message here, and we'll attach the link" name="message"></textarea>
    </div>
    <button class="share" type="submit">share</button>
    </form>
  </div>

  <div id="debug" class="ui-tabs-hide">
    <div class="hbox messageForm">
      <div style="width:450px;">
        <button onclick="window.closeShare()">Close</button>
        <button onclick="window.showStatus('statusSharing', true)">Show Sharing</button>
        <button onclick="window.showStatus('statusServerBusy', true)">Show Server Busy</button>
        <button onclick="window.showStatus('statusError', true)">Show Error</button>
        <button onclick="window.showStatusShared()">Show Shared</button>
        <button onclick="window.showStatus('statusCookiePukeError', true)">Show Session Lost</button>
        <button onclick="window.showStatus('statusServerError', true)">Show Server Error</button>
        <button onclick="window.showStatus('statusAuth', true)">Show Auth Error</button>
        <button onclick="window.showStatus('statusCaptcha', true)">Show Captcha</button>

        <button onclick="alert(localStorage.gmailContacts)">Alert contacts cache</button>
      </div>
      <textarea  class="boxFlex" id="debugOutput"></textarea>
      <textarea  class="boxFlex" id="debugCurrentLocation"></textarea>
    </div>
  </div>

</div>

<!-- Start templates -->
<script id="accountTemplate" type="text/template">
  {.userAccount accounts[0]}
  <div class="account">
    <!-- <img src="{profilePic(photos)}"> -->
    <span class="check">&#x2714;</span> <span title="{userAccount.domain} properly configured!" class="name">{displayName}</span>
    <span class="remove"><a class="accountRemove" href="#" data-domain="{userAccount.domain}" data-username="{userAccount.username}" data-userid="{userAccount.userid}">remove</a></span>
  </div>
</script>

<script id="addAccountTemplate" type="text/template">
  <button class="auth" data-domain="{_}">Add {serviceName(_)}</button>
</script>

<script id="sharedTemplate" type="text/template">
  Link shared from <span class="shareDomain">{domain}</span> to <a href="{href}" target="_blank">{service}</a>
</script>
<!-- End templates -->

<div id="tabToolTip">
  Try me!<span class="arrow"></span>
</div>

<!-- Click blocker for status messages. Should be before status messages but
     after main content for z-order purposes -->
<div id="clickBlock" class="hidden"></div>

<!-- Start status messages, should be last in the page for z-order purposes -->
<div id="statusSettings" class="status hidden noConfig">
  <img src="i/f1-icon-grey.png"> <a target="_blank" class="settingsLink" href="../settings/">click here to setup F1</a>
</div>

<div id="statusSharing" class="status hidden">
  <img src="i/loader.gif"> sharing...
</div>

<div id="statusAuth" class="status hidden error">
  Sorry, you need to authenticate before we continue.
  <button class="statusButton statusErrorButton">ok</button>
</div>

<div id="statusOAuthFailed" class="status hidden error">
  Sorry, we couldn't connect to your account. Please try again.
  <button class="statusButton statusErrorButton">ok</button>
</div>

<div id="statusError" class="status hidden error">
  We're really sorry, F1 done goofed up. <span id="statusErrorMessage"></span>
  <button class="statusButton statusErrorButton">ok</button>
</div>

<div id="statusCaptcha" class="status hidden intermediate captcha">
  <div class="captcha-wrap">
  <div class="captcha-content">
    <img id="captchaImage" class="captchaImage" />
    <input id="captcha" name="captcha" placeholder="captcha" type="text"/>
    <button id="captchaButton" class="statusButton">ok</button>
  </div>
  <div id="captchaMsg" class="captcha-msg">
    Somebody wants to know that you're really human.
    <div>Enter Captcha text to send message.</div>
  </div>
  </div>
</div>

<div id="statusToError" class="status hidden error">
  The 'to' field is required to send email.
  <button class="statusButton statusErrorButton">ok</button>
</div>

<div id="statusServerError" class="status hidden error">
  We're really sorry, the F1 server is having problems. Please try again later. <span id="statusServerErrorMessage"></span>
  <button id="statusServerErrorButton" class="statusButton statusErrorCloseButton">ok</button>
</div>

<div id="statusCookiePukeError" class="status hidden intermediate error">
  Sorry, you've been signed out. Sign in again to finish sharing.
  <button id="authOkButton" class="statusButton">sign in</button>
</div>

<div id="statusServerBusy" class="status hidden warning">
  Sorry, F1 is under heavy load right now, please try again later.
  <button class="statusButton statusErrorButton">ok</button>
</div>

<div id="statusServerBusyClose" class="status hidden warning">
  Sorry, F1 is under heavy load right now, please try again later.
  <button class="statusButton statusErrorCloseButton">ok</button>
</div>

<div id="statusShared" class="status hidden">
  Message Shared!
</div>

<!-- End status messages -->

</body>

</html>
